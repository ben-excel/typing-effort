<!DOCTYPE html>
<html>
<head>
<title>QWERTY Effort Calculator</title>
</head>
<body>

<h1>QWERTY Effort Calculator</h1>

<p>Enter a comma-separated list of words or a sentence:</p>
<input type="text" id="wordsInput" size="50">
<button onclick="calculateEffort()">Calculate</button>

<div id="results"></div>

<script>
function calculateEffort() {
  const wordsInput = document.getElementById("wordsInput").value;
  const words = wordsInput.split(",").map(word => word.trim());

  const effortScores = words.map(word => {
    const effort = calculateWordEffort(word);
    return { word, effort };
  });

  effortScores.sort((a, b) => b.effort - a.effort); // Sort descending

  const resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = "<h2>Effort scores (hardest to easiest):</h2>";
  effortScores.forEach(item => {
    resultsDiv.innerHTML += `<p>${item.word}: ${item.effort}</p>`;
  });
}

function calculateWordEffort(word) {
  const keyboard = {
    'q': [0, 0, 'l'], 'w': [0, 1, 'l'], 'e': [0, 2, 'l'], 'r': [0, 3, 'l'], 't': [0, 4, 'l'],
    'y': [0, 5, 'r'], 'u': [0, 6, 'r'], 'i': [0, 7, 'r'], 'o': [0, 8, 'r'], 'p': [0, 9, 'r'],
    'a': [1, 0, 'l'], 's': [1, 1, 'l'], 'd': [1, 2, 'l'], 'f': [1, 3, 'l'], 'g': [1, 4, 'l'],
    'h': [1, 5, 'r'], 'j': [1, 6, 'r'], 'k': [1, 7, 'r'], 'l': [1, 8, 'r'], ';': [1, 9, 'r'],
    'z': [2, 0, 'l'], 'x': [2, 1, 'l'], 'c': [2, 2, 'l'], 'v': [2, 3, 'l'], 'b': [2, 4, 'l'],
    'n': [2, 5, 'r'], 'm': [2, 6, 'r']
  };

  word = word.toLowerCase();
  let effort = 0.0;
  let prevPos = null;
  let prevHand = null;
  let prevChar = null;

  for (const char of word) {
    if (char === ' ') {
      // Assuming spacebar is pressed with the right thumb
      effort += 1.0; // Add effort for space 
      prevPos = null; // Resetting position for a new word
      prevHand = 'r'; // Assuming right thumb for space
    } else if (char in keyboard) {
      const currPos = keyboard[char];
      const currHand = currPos[2];

      if (prevPos) {
        const distance = Math.abs(currPos[0] - prevPos[0]) + Math.abs(currPos[1] - prevPos[1]);
        effort += distance;

        if (Math.abs(currPos[0] - prevPos[0]) === 2) {
          effort += 1.0;
        }

        if (currHand !== prevHand) {
          effort += 0.5;
        }

        if (distance === 0 && char !== prevChar) {
          effort += 1.5;
        }
      }

      prevPos = currPos.slice(0, 2);
      prevHand = currHand;
      prevChar = char;
    }
  }

  return effort;
}
</script>

</body>
</html>
